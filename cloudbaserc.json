{
  "version": "2.0",
  "envId": "{{env.ENV_ID}}",
  "framework": {
    "name": "lxservice",
    "plugins": {
      "function": {
        "use": "@cloudbase/framework-plugin-function",
        "inputs": {
          "functionRootPath": "./functions",
          "servicePaths": {
            "get_current_user": "/get_current_user",
            "login_user": "/login_user",
            "suite_callback": "/suite_callback"
          }
        }
      },
      "database": {
        "use": "@cloudbase/framework-plugin-database",
        "inputs": {
          "collections": [
            {
              "collectionName": "lx_suite_callback_logs",
              "createIndexes": [
                {
                  "name": "lx_suite_callback_logs_action_index",
                  "unique": false,
                  "keys": [
                    {
                      "name": "action",
                      "direction": "1"
                    }
                  ]
                }
              ]
            },
            {
              "collectionName": "lx_suites"
            },
            {
              "collectionName": "companies"
            },
            {
              "collectionName": "users"
            }
          ]
        }
      }
    }
  },
  "region": "ap-guangzhou",
  "functionRoot": "./functions",
  "functions": [
    {
      "name": "get_suite_access_token",
      "runtime": "Nodejs10.15",
      "handler": "index.main",
      "timeout": 5,
      "memorySize": 128,
      "envVariables": {
        "LX_SUITE_ID": "{{env.LX_SUITE_ID}}",
        "LX_SUITE_SECRET": "{{env.LX_SUITE_SECRET}}",
        "LX_API_URL": "{{env.LX_API_URL}}"
      },
      "installDependency": false
    },
    {
      "name": "suite_callback",
      "runtime": "Nodejs10.15",
      "handler": "index.main",
      "timeout": 5,
      "memorySize": 128,
      "envVariables": {
        "LX_SUITE_ID": "{{env.LX_SUITE_ID}}"
      },
      "installDependency": false
    },
    {
      "name": "get_corp_info",
      "runtime": "Nodejs10.15",
      "handler": "index.main",
      "timeout": 5,
      "memorySize": 128,
      "envVariables": {
        "LX_API_URL": "{{env.LX_API_URL}}"
      },
      "installDependency": false
    },
    {
      "name": "get_current_user",
      "runtime": "Nodejs10.15",
      "handler": "index.main",
      "timeout": 5,
      "memorySize": 128,
      "envVariables": {
        "LX_SUITE_ID": "{{env.LX_SUITE_ID}}",
        "PAGE_URL": "{{env.PAGE_URL}}",
        "LX_AUTH_URL": "{{env.LX_AUTH_URL}}"
      },
      "installDependency": false
    },
    {
      "name": "login_user",
      "runtime": "Nodejs10.15",
      "handler": "index.main",
      "timeout": 5,
      "memorySize": 128,
      "envVariables": {
        "ENV_ID": "{{env.ENV_ID}}",
        "LX_API_URL": "{{env.LX_API_URL}}"
      },
      "installDependency": false
    }
  ]
}
