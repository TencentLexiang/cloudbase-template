TCBSAMFormatVersion: '2020-06-15'
License: MIT
Description: 基于 CloudBase Framework 构建
Category: CloudApp
Tags: []
SourceUrl: 'https://github.com/Tencent/cloudbase-framework'
ReleaseNotesUrl: 'https://github.com/Tencent/cloudbase-framework/releases'
IconUrl: >-
  https://main.qcloudimg.com/raw/f87b49914efe502722f9aa128f5d8865/hello_world.svg
IntroUrl: 'https://cloud.tencent.com/document/product/876/44547'
ChangeLog:
  - Title: 1.0.0
    Content:
      - 初次发布
Author:
  AuthorName: Tencent CloudBase
  Email: cloudbase@tencent.com
  Url: 'https://github.com/Tencent/cloudbase-framework'
Contributors:
  - AuthorName: Tencent CloudBase
    Email: cloudbase@tencent.com
    Url: 'https://github.com/Tencent/cloudbase-framework'
Name: lxservice
Version: 1.0.0
DisplayName: lxservice
Globals:
  Environment:
    Variables: {}
SourceDir: .
EntryPoint:
  - Label: 服务地址
    EntryType: HttpService
    HttpEntryPath: /get_current_user
  - Label: 服务地址
    EntryType: HttpService
    HttpEntryPath: /suite_callback
Resources:
  GetSuiteAccessToken:
    Type: 'CloudBase::Function'
    Properties:
      Handler: index.main
      Description: 无服务器执行环境，帮助您在无需购买和管理服务器的情况下运行代码
      Runtime: Nodejs10.15
      FunctionName: get_suite_access_token
      MemorySize: 128
      Timeout: 5
      Environment:
        Variables:
          LX_SUITE_ID: bec9873c53dc11eb93b2be80f293bd92
          LX_SUITE_SECRET: 19D2IhpCk9jKgNZO9F32zbfEflcatAQ7LN1suBsi
          LX_API_URL: 'https://lxapi.lexiangla.net/cgi-bin/'
      VpcConfig: {}
      InstallDependency: false
      CodeUri: 'extension://867b5f4b000f4539847b204ad4c00b95.zip'
      CodeSecret: false
      Role: TCB_QcsRole
  SuiteCallback:
    Type: 'CloudBase::Function'
    Properties:
      Handler: index.main
      Description: 无服务器执行环境，帮助您在无需购买和管理服务器的情况下运行代码
      Runtime: Nodejs10.15
      FunctionName: suite_callback
      MemorySize: 128
      Timeout: 5
      Environment:
        Variables:
          LX_SUITE_ID: bec9873c53dc11eb93b2be80f293bd92
      VpcConfig: {}
      HttpPath: /suite_callback
      InstallDependency: false
      CodeUri: 'extension://713f5ee1f73d40a48a8ad143004eb9a6.zip'
      CodeSecret: false
      Role: TCB_QcsRole
  GetCorpInfo:
    Type: 'CloudBase::Function'
    Properties:
      Handler: index.main
      Description: 无服务器执行环境，帮助您在无需购买和管理服务器的情况下运行代码
      Runtime: Nodejs10.15
      FunctionName: get_corp_info
      MemorySize: 128
      Timeout: 5
      Environment:
        Variables:
          LX_API_URL: 'https://lxapi.lexiangla.net/cgi-bin/'
      VpcConfig: {}
      InstallDependency: false
      CodeUri: 'extension://c001de82efd849e5852db3cd0b473ae9.zip'
      CodeSecret: false
      Role: TCB_QcsRole
  LX_SUITE_CALLBACK_LOGS:
    Type: 'CloudBase::FlexDB'
    Properties:
      Description: 云开发 NoSQL 数据库
      CollectionName: lx_suite_callback_logs
      CreateIndexes:
        - Name: lx_suite_callback_logs_action_index
          Unique: false
          Keys:
            - Name: action
              Direction: '1'
  LX_SUITES:
    Type: 'CloudBase::FlexDB'
    Properties:
      Description: 云开发 NoSQL 数据库
      CollectionName: lx_suites
  COMPANIES:
    Type: 'CloudBase::FlexDB'
    Properties:
      Description: 云开发 NoSQL 数据库
      CollectionName: companies
